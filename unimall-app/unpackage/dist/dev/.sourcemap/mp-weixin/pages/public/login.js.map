{"version":3,"sources":["webpack:////Volumes/develop/ideawork/unimall/unimall-app/pages/public/login.vue?28f9","webpack:////Volumes/develop/ideawork/unimall/unimall-app/pages/public/login.vue?cd4c","webpack:////Volumes/develop/ideawork/unimall/unimall-app/pages/public/login.vue?75b0","webpack:////Volumes/develop/ideawork/unimall/unimall-app/pages/public/login.vue?afaa","webpack:////Volumes/develop/ideawork/unimall/unimall-app/pages/public/login.vue","webpack:////Volumes/develop/ideawork/unimall/unimall-app/pages/public/login.vue?e270","webpack:////Volumes/develop/ideawork/unimall/unimall-app/pages/public/login.vue?7e0b"],"names":["data","loginType","phone","password","logining","onShow","$api","logout","onLoad","methods","inputChange","e","key","currentTarget","dataset","detail","value","chooseLoginType","type","navBack","uni","navigateBack","toRegist","redirectTo","url","toLogin","that","length","msg","request","failres","showToast","title","errmsg","icon","then","res","$store","commit","setStorageSync","prePage","lodaData","loadData","miniWechatLogin","userInfo","login","provider","success","wxres","raw","JSON","stringify","hideLoading","setUserInfo","syncRes","nickname","nickName","avatarUrl","gender","wechatLogin","showLoading","getUserInfo","lang","complete"],"mappings":"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","file":"pages/public/login.js","sourcesContent":["import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=4450bd79&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../software/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Volumes/develop/software/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('4450bd79', component.options)\n    } else {\n      api.reload('4450bd79', component.options)\n    }\n    module.hot.accept(\"./login.vue?vue&type=template&id=4450bd79&\", function () {\n      api.rerender('4450bd79', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"ideawork/unimall/unimall-app/pages/public/login.vue\"\nexport default component.exports","import mod from \"-!../../../../../software/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../software/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../software/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../software/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../software/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../software/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../software/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../software/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../../software/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../software/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../software/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../software/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../software/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../software/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../software/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../software/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../software/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../software/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../software/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../software/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../software/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../software/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../software/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../software/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../../../software/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../software/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../software/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../software/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=template&id=4450bd79&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n\tmapMutations\n} from 'vuex';\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tloginType: '',\n\t\t\tphone: '',\n\t\t\tpassword: '',\n\t\t\tlogining: false\n\t\t}\n\t},\n\tonShow() {\n\t\tthis.$api.logout()\n\t},\n\tonLoad() {\n\n\t},\n\tmethods: {\n\t\t...mapMutations(['login']),\n\t\tinputChange(e) {\n\t\t\tconst key = e.currentTarget.dataset.key;\n\t\t\tthis[key] = e.detail.value;\n\t\t},\n\t\tchooseLoginType(type) {\n\t\t\tthis.loginType = type\n\t\t},\n\t\tnavBack() {\n\t\t\tuni.navigateBack();\n\t\t},\n\t\ttoRegist() {\n\t\t\tuni.redirectTo({\n\t\t\t\turl: '/pages/public/register'\n\t\t\t})\n\t\t},\n\t\tasync toLogin() {\n\t\t\tconst that = this\n\t\t\tthat.logining = true;\n\t\t\tif (that.phone.length !== 11) {\n\t\t\t\tthat.$api.msg('请输入11位中国手机号')\n\t\t\t} else if (that.password.length < 8) {\n\t\t\t\tthat.$api.msg('密码至少8位')\n\t\t\t} else {\n\t\t\t\tthat.$api.request('user', 'login', {\n\t\t\t\t\tphone: that.phone,\n\t\t\t\t\tpassword: that.password\n\t\t\t\t}, failres => {\n\t\t\t\t\tthat.logining = false\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: failres.errmsg,\n\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t});\n\t\t\t\t}).then(res => {\n\t\t\t\t\tthat.logining = false\n\t\t\t\t\tthat.$store.commit('login', res.data)\n\t\t\t\t\tuni.setStorageSync('userInfo', res.data)\n\t\t\t\t\tif (that.$api.prePage().lodaData) {\n\t\t\t\t\t\tthat.$api.prePage().loadData()\n\t\t\t\t\t}\n\t\t\t\t\tuni.navigateBack()\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tminiWechatLogin(e) {\n\t\t\tconst that = this\n\t\t\tthat.logining = true\n\t\t\tlet loginType = 1\n\t\t\tlet userInfo = e.detail.userInfo\n\t\t\tuni.login({\n\t\t\t\tprovider: 'weixin',\n\t\t\t\tsuccess: (wxres => {\n\t\t\t\t\tthat.logining = false\n\t\t\t\t\tthat.$api.request('user', 'thirdPartLogin', {\n\t\t\t\t\t\tloginType: loginType,\n\t\t\t\t\t\traw: JSON.stringify(wxres)\n\t\t\t\t\t}, failres => {\n\t\t\t\t\t\tthat.$api.msg(failres.errmsg)\n\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t}).then(res => {\n\t\t\t\t\t\tthat.$api.setUserInfo(res.data)\n\t\t\t\t\t\tthat.$api.request('user', 'syncUserInfo', userInfo).then(syncRes => {\n\t\t\t\t\t\t\t//同步过后\n\t\t\t\t\t\t\tres.data.nickname = userInfo.nickName\n\t\t\t\t\t\t\tres.data.avatarUrl = userInfo.avatarUrl\n\t\t\t\t\t\t\tres.data.gender = userInfo.gender\n\t\t\t\t\t\t\tuni.setStorageSync('userInfo', res.data)\n\t\t\t\t\t\t\tthat.$store.commit('login', res.data)\n\t\t\t\t\t\t\tthat.$api.setUserInfo(res.data)\n\n\t\t\t\t\t\t\tif (that.$api.prePage().lodaData) {\n\t\t\t\t\t\t\t\tthat.$api.prePage().loadData()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\tuni.navigateBack()\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t})\n\n\n\n\t\t},\n\t\twechatLogin() {\n\t\t\tconst that = this\n\t\t\tthat.logining = true\n\t\t\tlet loginType = 2\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '正在同步消息'\n\t\t\t})\n\t\t\tuni.login({\n\t\t\t\tprovider: 'weixin',\n\t\t\t\tsuccess: (wxres => {\n\t\t\t\t\tthat.$api.request('user', 'thirdPartLogin', {\n\t\t\t\t\t\tloginType: loginType,\n\t\t\t\t\t\traw: JSON.stringify(wxres)\n\t\t\t\t\t}, failres => {\n\t\t\t\t\t\tthat.$api.msg(failres.errmsg)\n\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t}).then(res => {\n\t\t\t\t\t\tthat.logining = false\n\t\t\t\t\t\tuni.getUserInfo({\n\t\t\t\t\t\t\tlang: 'zh_CN',\n\t\t\t\t\t\t\tsuccess: (e) => {\n\t\t\t\t\t\t\t\tuni.setStorageSync('userInfo', res.data)\n\t\t\t\t\t\t\t\tthat.$store.commit('login', res.data)\n\t\t\t\t\t\t\t\te.userInfo.nickname = e.userInfo.nickName\n\t\t\t\t\t\t\t\tthat.$api.request('user', 'syncUserInfo', e.userInfo).then(syncRes => {\n\t\t\t\t\t\t\t\t\t//同步过后\n\t\t\t\t\t\t\t\t\tres.data.nickname = e.userInfo.nickName\n\t\t\t\t\t\t\t\t\tres.data.avatarUrl = e.userInfo.avatarUrl\n\t\t\t\t\t\t\t\t\tres.data.gender = e.userInfo.gender\n\t\t\t\t\t\t\t\t\tuni.setStorageSync('userInfo', res.data)\n\t\t\t\t\t\t\t\t\tthat.$store.commit('login', res.data)\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcomplete: (e) => {\n\t\t\t\t\t\t\t\tif (that.$api.prePage().lodaData) {\n\t\t\t\t\t\t\t\t\tthat.$api.prePage().loadData()\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\t\tuni.navigateBack()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t},\n\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}