<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.iotechn.unimall.data.mapper.CollectMapper">


    <select id="countCollect" resultType="java.lang.Integer">
        select count(1)
        from unimall_collect
        where user_id = #{userId}
    </select>

    <select id="getCollectAll" resultType="com.iotechn.unimall.data.dto.CollectDTO">
     SELECT
            c.id as id,
            c.spu_id as spuId,
            c.user_id as userId,
            c.gmt_create as gmtCreate,
            c.gmt_update as gmtUpdate,
            s.id as spuDO.id
    from
            unimall_collect as c,
            unimall_spu as s
    where
            c.user_id = #{userId}
            and c.spu_id = s.id
    limit
            #{offset},#{size}
    </select>

</mapper>